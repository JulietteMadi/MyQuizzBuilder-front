import{Q as y}from"./QuizItem-2561063b.js";import{T as f}from"./TopicItem-c9f683fd.js";import{_ as z,m as x,r,o,c as i,a as e,b as p,t as u,d as _,F as m,e as b,f as n,w as v,u as D,g as k}from"./index-c48083d6.js";const M={data(){return{lastQuizzes:[{id:1,name:"Recrutement"},{id:2,name:"Onboarding"},{id:3,name:"Sensibilisation"},{id:4,name:"RSE en grand groupe"}],lastTopics:[{id:1,name:"RH"},{id:2,name:"Administratif"},{id:3,name:"Travailleurs étrangers"},{id:4,name:"Inclusion managériale"}],disclaimer:!0}},components:{QuizItem:y,TopicItem:f},mounted(){this.getAllTopics()},computed:{...x(D,["token","userEmail","userName"])},methods:{reduceArrayLength(t){t.splice(0,t.length-4),t.reverse()},askDeleteTopic(t){this.topicToDelete=this.lastTopics.find(s=>s.id===t)},updateTopic(t){this.$router.push({name:"modifierTheme",params:{id:t}})},async getAllTopics(){const t={Authorization:`Bearer ${this.token}`},s=await this.$http.get("/topics",{headers:t});s.status==200||s.status==204?(this.lastTopics=s.body,this.lastTopics.length>3&&this.reduceArrayLength(this.lastTopics)):console.error(s)},async deleteTopic(t){const s={Authorization:`Bearer ${this.token}`},l=await this.$http.delete(`/topics/${t}`,{headers:s});l.status===204||l.status===200?(await this.getAllTopics(),this.$toast.success("toast-app",`Le thème ${this.topicToDelete.name} a bien été supprimé`)):(console.error(error),this.$toast.error("toast-app",`Un problème est survenu à la suppression du thème ${this.topicToDelete.name}`))}}},$={class:"modal fade",id:"warningModalTopic",tabindex:"-1"},w={class:"modal-dialog"},N={class:"modal-content"},q=e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5 text-danger",id:"labelModal"},"Êtes-vous sûr.e de vouloir supprimer ce thème ?"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),A={class:"modal-body"},S={key:0},B={class:"modal-footer"},C=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Annuler",-1),Q={key:0,class:"row my-3 d-flex justify-content-center"},I=e("h5",{class:"text-center col-12"}," Bienvenue sur la démo MyQuizzBuilder ! ",-1),L=e("button",{type:"button",class:"btn primary-button col-12 col-md-3","data-bs-toggle":"modal","data-bs-target":"#demoModal"}," Cliquez ici pour en savoir plus ",-1),V=[I,L],R=k('<div class="modal fade" id="demoModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h1 class="modal-title fs-5" id="exampleModalLabel">Demo de MyQuizzBuilder</h1><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"> Ce projet est une simple démonstration. C&#39;est pourquoi, vos interactions avec l&#39;interface n&#39;auront pas d&#39;effets sur celle-ci : vous pouvez créer un quiz en entier, mais en revenant sur la liste des quiz vous ne le retrouverez pas. <br> Je compte sur vous pour me remonter des suggesions, améliorations ou bugs ! </div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">J&#39;ai compris</button></div></div></div></div><h1>Mon tableau de bord</h1>',2),E={class:"my-5"},U={class:"my-5"},H=e("h2",null,"Mon profil",-1),j={class:"px-4"},F={class:"row gx-5"},J=e("li",null,"Dernière connexion : 24/05/2023 15:51",-1),O=e("li",null,"Nombre de contributions : 19",-1),P=e("h2",null,"Mes derniers quiz",-1),G={class:"text-center"},K={class:"row g-3"},W={class:"col-12 col-sm-6 col-lg-3"},X=e("button",{class:"btn secundary-button mt-4",type:"button"},[e("i",{class:"bi bi-plus-circle"}),p(" Voir tous mes quiz ")],-1),Y={class:"my-5"},Z=e("h2",null,"Mes derniers thèmes",-1),ee={class:"text-center"},te={class:"row g-3"},se={class:"col-12 col-sm-6 col-lg-3"},oe=e("button",{class:"btn secundary-button mt-4",type:"button"},[e("i",{class:"bi bi-plus-circle"}),p(" Voir tous mes thèmes ")],-1);function ie(t,s,l,ae,ne,d){const g=r("QuizItem"),h=r("RouterLink"),T=r("TopicItem");return o(),i(m,null,[e("div",$,[e("div",w,[e("div",N,[q,e("div",A,[p(" Cette action est irréversible, et vous perdrez tout le thème : "),t.topicToDelete?(o(),i("b",S,u(t.topicToDelete.name),1)):_("",!0)]),e("div",B,[C,e("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:s[0]||(s[0]=a=>d.deleteTopic(t.topicToDelete.id))},"Supprimer")])])])]),t.disclaimer?(o(),i("div",Q,V)):_("",!0),R,e("section",E,[e("section",U,[H,e("div",j,[e("div",F,[e("ul",null,[e("li",null,"Pseudo : "+u(t.userName),1),e("li",null,"Mail : "+u(t.userEmail),1),J,O])])])]),P,e("div",G,[e("div",K,[(o(!0),i(m,null,b(t.lastQuizzes,(a,c)=>(o(),i("div",W,[n(g,{quizName:a.name,index:c.toString()},null,8,["quizName","index"])]))),256))])]),n(h,{to:"/quiz"},{default:v(()=>[X]),_:1})]),e("section",Y,[Z,e("div",ee,[e("div",te,[(o(!0),i(m,null,b(t.lastTopics,(a,c)=>(o(),i("div",se,[n(T,{topic:a,index:c.toString(),onDeleteTopic:d.askDeleteTopic,onUpdateTopic:d.updateTopic},null,8,["topic","index","onDeleteTopic","onUpdateTopic"])]))),256))])]),n(h,{to:"/themes"},{default:v(()=>[oe]),_:1})])],64)}const re=z(M,[["render",ie]]);export{re as default};
