import{j as m,_ as f,u as c,o as r,c as d,d as u,a as e,h as a,v as l,i as p}from"./index-5f72cd32.js";const h={data(){return{demo:!0,wrongIdentifier:!1,inputs:{identifier:"",password:""}}},computed:{...m(c,["token","userEmail","userName"])},methods:{checkDemo(){this.inputs.identifier==="admin@mqb.fr"&&this.inputs.password==="letmein"?(this.token="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjb3Vjb3UiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAiLCJleHAiOjE3MDEwMTg4NzAsImlhdCI6MTcwMDkzMjQ3MH0.Q9TqG_B1Dl9G6xRfdliVViOgxuodinr6Tj1wrWZwjhQ",this.userName="Admin",this.userEmail="admin@mqb.fr",this.$router.push({name:"home"}),this.$toast.success("toast-app","Vous êtes bien connecté en tant que Admin")):this.wrongIdentifier=!0},async checkIdentifier(){const t={emailOrUsername:this.inputs.identifier,password:this.inputs.password},s=await this.$http.post("/sign-in",t);if(s.status==204||s.status==200){const o=await s.body;this.token=o.token,this.userName=o.userName,this.userEmail=o.userEmail,this.$router.push({name:"home"}),this.$toast.success("toast-app",`Vous êtes bien connecté en tant que ${o.userName}`)}else console.error(s),this.$toast.error("toast-app","Les informations ne sont pas valides")}}},b={key:0,class:"text-danger mb-2"},w={class:"mb-3"},v=e("label",{for:"identifier",class:"form-label"},"E-mail ou pseudo",-1),y=e("div",{id:"identifierHelp",class:"form-text"},"Renseignez votre pseudo MyQuizzBuilder ou votre email ",-1),_={class:"mb-3"},k=e("label",{for:"password",class:"form-label"},"Password",-1),g=e("div",{id:"identifierHelp",class:"form-text"},"Veuillez renseigner votre mot de passe personnel",-1),V=e("button",{type:"submit",class:"btn primary-button my-3"},"Me connecter",-1),I={key:0,class:"text-danger mb-2"},M={class:"mb-3"},z=e("label",{for:"identifier",class:"form-label"},"E-mail ou pseudo",-1),J=e("div",{id:"identifierHelp",class:"form-text"},"Renseignez votre pseudo MyQuizzBuilder ou votre email ",-1),N={class:"mb-3"},O=e("label",{for:"password",class:"form-label"},"Password",-1),j=e("div",{id:"identifierHelp",class:"form-text"},"Veuillez renseigner votre mot de passe personnel",-1),E=e("button",{type:"submit",class:"btn primary-button my-3"},"Me connecter",-1);function D(t,s,o,U,C,n){return t.demo?(r(),d("form",{key:0,onSubmit:s[2]||(s[2]=p((...i)=>n.checkDemo&&n.checkDemo(...i),["prevent"]))},[t.wrongIdentifier?(r(),d("div",b,"Ces identifiants n'existent pas dans notre base de donnée")):u("",!0),e("div",w,[v,a(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.inputs.identifier=i),id:"identifier",type:"text",class:"form-control"},null,512),[[l,t.inputs.identifier]]),y]),e("div",_,[k,a(e("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>t.inputs.password=i),id:"password",type:"password",class:"form-control"},null,512),[[l,t.inputs.password]]),g]),V],32)):(r(),d("form",{key:1,onSubmit:s[5]||(s[5]=p((...i)=>n.checkIdentifier&&n.checkIdentifier(...i),["prevent"]))},[t.wrongIdentifier?(r(),d("div",I,"Ces identifiants n'existent pas dans notre base de donnée")):u("",!0),e("div",M,[z,a(e("input",{"onUpdate:modelValue":s[3]||(s[3]=i=>t.inputs.identifier=i),id:"identifier",type:"text",class:"form-control"},null,512),[[l,t.inputs.identifier]]),J]),e("div",N,[O,a(e("input",{"onUpdate:modelValue":s[4]||(s[4]=i=>t.inputs.password=i),id:"password",type:"password",class:"form-control"},null,512),[[l,t.inputs.password]]),j]),E],32))}const $=f(h,[["render",D]]);export{$ as S};
