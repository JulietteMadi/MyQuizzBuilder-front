import{_ as v,o as a,c,a as e,b as r,t as m,d as q,h as _,v as b,p,F as h,e as f,K as g,n as y,r as Q,i as z,f as k}from"./index-cac0b148.js";const w={props:{question:{type:Array,default:[]},index:{type:Number,default:0}},methods:{enableTooltip(n){const s=document.getElementById(n);bootstrap.Tooltip.getOrCreateInstance(s).enable()}}},D=["id"],C={class:"col-11 pe-0"},V=["data-bs-target"],$={key:0},I={class:"col-1 px-0 d-flex justify-content-center align-items-center"},A={class:"btn","data-bs-toggle":"modal","data-bs-target":"#warningModal",type:"button"},N=["id","data-bs-original-title"],T=["id"],M={class:"accordion-body"},U={class:"row"},S={class:"col-12"},B=["for"],E=["name","id"],L={class:"row"},R={class:"col-12"},j=["for"],F=["id","name"],H=e("option",{selected:""},"Choisissez le tème de votre question",-1),K=e("option",{value:"1"},"RH",-1),O=e("option",{value:"2"},"RSE dans les grandes compagnies",-1),P=e("option",{value:"3"},"Recrutement éthique",-1),G=[H,K,O,P],J={class:"row mt-5"},W=e("div",{class:"col-12"},[e("h3",null,"Proposez 4 réponses puis cochez la ou les bonne(s) réponse(s) :")],-1),X={class:"col-12 col-md-6"},Y=["for"],Z={class:"row"},ee={class:"col-11"},te=["name","id","onUpdate:modelValue"],se={class:"col-1"},oe=["id","onUpdate:modelValue"],ne=["for"],ie=e("h3",null,"Description de la ou les bonne(s) réponse(s)",-1),le=[ie],de=["id","name"];function ae(n,s,t,x,l,d){return a(),c(h,null,[e("h3",{class:"accordion-header row d-flex me-0",id:`heading${t.index}`},[e("div",C,[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${t.index}`},[r(" Question "+m(t.index+1)+" ",1),t.question.name?(a(),c("span",$," : "+m(t.question.name),1)):q("",!0)],8,V)]),e("div",I,[e("button",A,[e("i",{class:"bi bi-trash3-fill primary clickable-icon",id:"deleteQuestion"+t.index,style:{"font-size":"1.5rem",color:"var(--second-dark-color)"},onClick:s[0]||(s[0]=i=>n.$emit("askDeleteQuestion",t.index)),"data-bs-toggle":"tooltip","data-bs-custom-class":"bg-tooltip","data-bs-original-title":"Supprimer la question "+(t.index+1),onMouseover:s[1]||(s[1]=i=>d.enableTooltip(`deleteQuestion${t.index}`))},null,40,N)])])],8,D),e("div",{id:`collapse${t.index}`,class:y(["accordion-collapse collapse",{show:n.activeIndex===t.index}]),"data-bs-parent":"questionsList"},[e("div",M,[e("div",U,[e("div",S,[e("label",{for:`questionName${t.index}`,class:"fs-6"},"Question",8,B),_(e("input",{name:`questionName${t.index}`,id:`questionName${t.index}`,"onUpdate:modelValue":s[2]||(s[2]=i=>t.question.name=i),type:"text",maxlength:"100",class:"form-control mb-2",required:""},null,8,E),[[b,t.question.name]])])]),e("div",L,[e("div",R,[e("label",{for:`questionTopic${t.index}`}," Choisissez le thème de votre question : ",8,j),_(e("select",{class:"form-select",id:`questionTopic${t.index}`,name:`questionTopic${t.index}`,"onUpdate:modelValue":s[3]||(s[3]=i=>t.question.topic=i),required:""},G,8,F),[[p,t.question.topic]])])]),e("div",J,[W,(a(!0),c(h,null,f(t.question.answers,(i,o)=>(a(),c("div",X,[e("label",{for:`answer${o}`}," Réponse "+m(o+1),9,Y),e("div",Z,[e("div",ee,[_(e("input",{name:`answer${o}-${t.index}`,id:`answer${o}-${t.index}`,type:"text",maxlength:"100",class:"form-control mb-2","onUpdate:modelValue":u=>i.name=u,required:""},null,8,te),[[b,i.name]])]),e("div",se,[_(e("input",{class:"form-check-input",type:"checkbox",value:"",id:`checkAnswer${o}-${t.index}`,"onUpdate:modelValue":u=>i.valid=u},null,8,oe),[[g,i.valid]])])])]))),256))]),e("div",null,[e("label",{for:`answerDescription${t.index}`,class:"form-label mt-5"},le,8,ne),e("textarea",{class:"form-control",id:`answerDescription${t.index}`,name:`answerDescription${t.index}`,rows:"5",required:""},null,8,de)])])],10,T)],64)}const ce=v(w,[["render",ae]]),ue={data(){return{quiz:{name:"",questions:[]},questions:[],indexDelete:0}},components:{QuizQuestions:ce},mounted(){this.addQuestion()},methods:{createQuiz(){this.$router.push({name:"quiz"})},addQuestion(){this.questions.push({name:"",topic:"",answers:[{name:"",valid:!1},{name:"",valid:!1},{name:"",valid:!1},{name:"",valid:!1}],answerDescription:""}),this.$nextTick(()=>{const n=this.$refs.accordionItems;n[n.length-1].scrollIntoView({behavior:"smooth",block:"end"})})},askDeleteQuestion(n){this.indexDelete=n},deleteQuestion(n){this.questions.splice(n,1)}}},re={class:"modal fade",id:"warningModal",tabindex:"-1"},me={class:"modal-dialog"},_e={class:"modal-content"},he={class:"modal-header"},be={class:"modal-title fs-5 text-danger",id:"exampleModalLabel"},ve=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"},null,-1),fe={class:"modal-body"},xe={class:"modal-footer"},qe=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Annuler",-1),pe=e("h1",null,"Créer un quiz",-1),ge={class:"outlined my-4 p-4"},ye={class:"row"},Qe={class:"col-12 col-md-8"},ze=e("label",{for:"name",class:"fs-5 mt-2"},"Nom du Quiz",-1),ke=e("div",{class:"col-12 col-md-4"},[e("label",{for:"image",class:"fs-5 mt-2"},"Illustration du quiz"),e("input",{class:"form-control",type:"file",id:"image"})],-1),we=e("div",{class:"col-12 my-4"},[e("p",null,[r("Veuillez ajouter entre 5 et 50 questions pour votre quiz"),e("br"),r(" Attention au choix de l’image et du nom de votre quiz, ce sont les informations que les utilisateurs verront !")])],-1),De={class:"accordion",id:"questionsList"},Ce=e("i",{class:"bi bi-plus-circle",id:"addButton"},null,-1),Ve={class:"align-items-end flex-column row mb-5"},$e=e("i",{class:"bi bi-plus-circle me-3"},null,-1);function Ie(n,s,t,x,l,d){const i=Q("QuizQuestions");return a(),c(h,null,[e("div",re,[e("div",me,[e("div",_e,[e("div",he,[e("h1",be,"Êtes-vous sûr.e de vouloir supprimer la question "+m(l.indexDelete+1)+" ?",1),ve]),e("div",fe,[r(" Cette action est irréversible, et vous perdrez toute la question "+m(l.indexDelete+1)+" : ",1),e("b",null,m(l.questions[l.indexDelete]&&l.questions[l.indexDelete].name),1)]),e("div",xe,[qe,e("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:s[0]||(s[0]=o=>d.deleteQuestion(l.indexDelete))},"Supprimer")])])])]),pe,e("form",{class:"my-5",onSubmit:s[3]||(s[3]=z(o=>d.createQuiz(),["prevent"]))},[e("div",ge,[e("div",ye,[e("div",Qe,[ze,_(e("input",{name:"name",id:"name",type:"text",maxlength:"255",class:"form-control",placeholder:"Ex : recrutement","onUpdate:modelValue":s[1]||(s[1]=o=>l.quiz.name=o)},null,512),[[b,l.quiz.name]])]),ke,we]),e("div",De,[(a(!0),c(h,null,f(l.questions,(o,u)=>(a(),c("div",{class:"accordion-item",key:u,ref_for:!0,ref:"accordionItems"},[k(i,{question:o,index:u,onAskDeleteQuestion:d.askDeleteQuestion},null,8,["question","index","onAskDeleteQuestion"])]))),128)),e("button",{class:"btn secundary-button mt-2",onClick:s[2]||(s[2]=(...o)=>d.addQuestion&&d.addQuestion(...o)),type:"button"},[Ce,r(" Ajouter une question ")])])])],32),e("div",Ve,[e("button",{class:"btn btn-primary mt-2 col-12 col-md-3",type:"submit",onClick:s[4]||(s[4]=(...o)=>d.createQuiz&&d.createQuiz(...o))},[$e,r(" Créer un quiz ")])])],64)}const Ne=v(ue,[["render",Ie]]);export{Ne as default};
