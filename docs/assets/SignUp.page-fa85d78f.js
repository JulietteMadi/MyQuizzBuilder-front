import{S as w}from"./SignIn-ebb621bd.js";import{c as t,u as $,r as l,e as V}from"./index-82a3f5b8.js";import{_,o as h,c as v,a as e,h as d,v as c,n as p,i as b,r as m,f}from"./index-5f72cd32.js";const x=t.regex(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!$*])(?!. ).{8,42}/),y=t.regex(/[a-zA-Z0-9]{4,20}/),I={setup(){return{v$:$({$autoDirty:!0})}},data(){return{pseudo:"",email:"",password:""}},validations(){return{pseudo:{required:t.withMessage("Veuillez renseigner un pseudo",l),pseudoValidator:t.withMessage("Votre pseudo doit contenir entre 4 et 20 lettres ou chiffres",y)},email:{required:t.withMessage("Veuillez renseigner un email",l),email:t.withMessage("Veuillez renseigner une adresse email valide",V)},password:{required:t.withMessage("Veuillez renseigner un mot de passe",l),passwordValidator:t.withMessage("Votre mot de passe doit que tenir entre 8 et 4 caractères dont au moins une majuscule, une minuscule, un chiffre et un parmi !$*",x)}}},methods:{async checkIdentifier(){if(await this.v$.$validate()){const s={email:this.email,name:this.pseudo,password:this.password},r=await this.$http.post("/sign-up",s);r.status==204||r.status==200?(this.$router.push({name:"signIn"}),this.$toast.success("Votre compte a bien été créé")):(console.error(r),this.$toast.error("toast-app","Un problème est survenu à la création de votre compte"))}else this.$toast.error("toast-app","Les informations ne sont pas valides")}}},M={class:"mb-3"},S=e("label",{for:"pseudo",class:"form-label"},"Pseudo",-1),z=e("div",{id:"pseudoHelp",class:"form-text"},"Votre futur pseudo doit être unique ",-1),U={class:"mb-3"},q=e("label",{for:"email",class:"form-label"},"E-mail",-1),k=e("div",{id:"emailHelp",class:"form-text"},"Renseignez votre adresse mail professionnelle ou personnelle ",-1),C={class:"mb-3"},B=e("label",{for:"password",class:"form-label"},"Password",-1),H=e("div",{id:"identifierHelp",class:"form-text"},"Il doit contenir plus de 8 caractères, par exemple Rantanplan31! ",-1),j=e("button",{type:"submit",class:"btn primary-button my-3"},"Créer mon compte",-1);function A(u,s,r,n,i,a){return h(),v("form",{novalidate:"",onSubmit:s[3]||(s[3]=b((...o)=>a.checkIdentifier&&a.checkIdentifier(...o),["prevent"]))},[e("div",M,[S,d(e("input",{type:"text",class:p(["form-control",{"is-invalid":n.v$.pseudo.$error}]),id:"pseudo","onUpdate:modelValue":s[0]||(s[0]=o=>i.pseudo=o)},null,2),[[c,i.pseudo]]),z]),e("div",U,[q,d(e("input",{type:"text",class:p(["form-control",{"is-invalid":n.v$.email.$error}]),id:"email","onUpdate:modelValue":s[1]||(s[1]=o=>i.email=o)},null,2),[[c,i.email]]),k]),e("div",C,[B,d(e("input",{type:"password",class:p(["form-control",{"is-invalid":n.v$.password.$error}]),id:"password","onUpdate:modelValue":s[2]||(s[2]=o=>i.password=o)},null,2),[[c,i.password]]),H]),j],32)}const D=_(I,[["render",A]]),E={data(){return{wrongIdentifier:!1,identifier:"",password:""}},components:{SignIn:w,SignUp:D}},N={class:"container-xl"},P={class:"row py-5 d-flex justify-content-center"},R={class:"col-12 col-lg-6"},Z=e("h1",null,"Créer un compte",-1),L={class:"col-12 col-lg-6"},T=e("h1",null,"Me connecter",-1);function F(u,s,r,n,i,a){const o=m("SignUp"),g=m("SignIn");return h(),v("section",N,[e("div",P,[e("div",R,[Z,f(o)]),e("div",L,[T,f(g)])])])}const O=_(E,[["render",F]]);export{O as default};
