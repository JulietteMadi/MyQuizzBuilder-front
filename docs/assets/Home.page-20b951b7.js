import{Q as y}from"./QuizItem-06cbd118.js";import{T as f}from"./TopicItem-7c9343db.js";import{_ as z,m as x,r as c,o,c as i,a as e,b as m,t as r,d as h,F as u,e as b,f as a,w as v,u as D,g as M}from"./index-e330a1bf.js";const k={data(){return{lastQuizzes:[{id:1,name:"Recrutement"},{id:2,name:"Onboarding"},{id:3,name:"Sensibilisation"},{id:4,name:"RSE en grand groupe"}],lastTopics:[{id:1,name:"RH"},{id:2,name:"Administratif"},{id:3,name:"Travailleurs étrangers"},{id:4,name:"Inclusion managériale"}],disclaimer:!0,topicToDelete:{}}},components:{QuizItem:y,TopicItem:f},mounted(){},computed:{...x(D,["token","userEmail","userName"])},methods:{reduceArrayLength(t){t.splice(0,t.length-4),t.reverse()},askDeleteTopic(t){this.topicToDelete=this.lastTopics.find(s=>s.id===t)},updateTopic(t,s){this.$router.push({name:"modifierTheme",params:{id:t,name:s}})},async getAllTopics(){const t={Authorization:`Bearer ${this.token}`},s=await this.$http.get("/topics",{headers:t});s.status==200||s.status==204?(this.lastTopics=s.body,this.lastTopics.length>3&&this.reduceArrayLength(this.lastTopics)):console.error(s)},async deleteTopic(t){{const s=this.lastTopics.findIndex(p=>p.id===t);this.lastTopics.splice(s,1),this.$toast.success("toast-app",`Le thème ${this.topicToDelete.name} a bien été supprimé`)}}}},N={class:"modal fade",id:"warningModalTopic",tabindex:"-1"},q={class:"modal-dialog"},S={class:"modal-content"},w=e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5 text-danger",id:"labelModal"},"Êtes-vous sûr.e de vouloir supprimer ce thème ?"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),C={class:"modal-body"},I={key:0},Q={class:"modal-footer"},B=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Annuler",-1),L={key:0,class:"row my-3 d-flex justify-content-center"},V=e("h5",{class:"text-center col-12"}," Bienvenue sur la démo MyQuizzBuilder ! ",-1),$=e("button",{type:"button",class:"btn primary-button col-12 col-md-3","data-bs-toggle":"modal","data-bs-target":"#demoModal"}," Cliquez ici pour en savoir plus ",-1),A=[V,$],R=M('<div class="modal fade" id="demoModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h1 class="modal-title fs-5" id="exampleModalLabel">Demo de MyQuizzBuilder</h1><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"> Ce projet est une simple démonstration. C&#39;est pourquoi, vos interactions avec l&#39;interface n&#39;auront pas d&#39;effets sur celle-ci : vous pouvez créer un quiz en entier, mais en revenant sur la liste des quiz vous ne le retrouverez pas. <br> Je compte sur vous pour me remonter des suggesions, améliorations ou bugs ! </div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">J&#39;ai compris</button></div></div></div></div><h1>Mon tableau de bord</h1>',2),E={class:"my-5"},H={class:"my-5"},U=e("h2",null,"Mon profil",-1),j={class:"px-4"},F={class:"row gx-5"},J=e("li",null,"Dernière connexion : 24/05/2023 15:51",-1),O=e("li",null,"Nombre de contributions : 19",-1),P=e("h2",null,"Mes derniers quiz",-1),G={class:"text-center"},K={class:"row g-3"},W={class:"col-12 col-sm-6 col-lg-3"},X=e("button",{class:"btn secundary-button mt-4",type:"button"},[e("i",{class:"bi bi-plus-circle"}),m(" Voir tous mes quiz ")],-1),Y={class:"my-5"},Z=e("h2",null,"Mes derniers thèmes",-1),ee={class:"text-center"},te={class:"row g-3"},se={class:"col-12 col-sm-6 col-lg-3"},oe=e("button",{class:"btn secundary-button mt-4",type:"button"},[e("i",{class:"bi bi-plus-circle"}),m(" Voir tous mes thèmes ")],-1);function ie(t,s,p,ne,ae,l){const g=c("QuizItem"),_=c("RouterLink"),T=c("TopicItem");return o(),i(u,null,[e("div",N,[e("div",q,[e("div",S,[w,e("div",C,[m(" Cette action est irréversible, et vous perdrez tout le thème : "),t.topicToDelete?(o(),i("b",I,r(t.topicToDelete.name),1)):h("",!0)]),e("div",Q,[B,e("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:s[0]||(s[0]=n=>l.deleteTopic(t.topicToDelete.id))},"Supprimer")])])])]),t.disclaimer?(o(),i("div",L,A)):h("",!0),R,e("section",E,[e("section",H,[U,e("div",j,[e("div",F,[e("ul",null,[e("li",null,"Pseudo : "+r(t.userName),1),e("li",null,"Mail : "+r(t.userEmail),1),J,O])])])]),P,e("div",G,[e("div",K,[(o(!0),i(u,null,b(t.lastQuizzes,(n,d)=>(o(),i("div",W,[a(g,{quizName:n.name,index:d.toString()},null,8,["quizName","index"])]))),256))])]),a(_,{to:"/quiz"},{default:v(()=>[X]),_:1})]),e("section",Y,[Z,e("div",ee,[e("div",te,[(o(!0),i(u,null,b(t.lastTopics,(n,d)=>(o(),i("div",se,[a(T,{topic:n,index:d.toString(),onDeleteTopic:l.askDeleteTopic,onUpdateTopic:l.updateTopic},null,8,["topic","index","onDeleteTopic","onUpdateTopic"])]))),256))])]),a(_,{to:"/themes"},{default:v(()=>[oe]),_:1})])],64)}const re=z(k,[["render",ie]]);export{re as default};
