import{j as m,_ as f,u as c,o as r,c as a,d as u,a as e,h as d,v as l,i as p}from"./index-e330a1bf.js";const h={data(){return{demo:!0,wrongIdentifier:!1,inputs:{identifier:"",password:""}}},computed:{...m(c,["token","userEmail","userName"])},methods:{checkDemo(){this.inputs.identifier==="toto@mqb.fr"&&this.inputs.password==="letmein"?(this.token="toto",this.userName="Toto",this.userEmail="toto@mqb.fr",this.$router.push({name:"home"}),this.$toast.success("toast-app","Vous êtes bien connecté en tant que Toto")):this.wrongIdentifier=!0},async checkIdentifier(){const t={emailOrUsername:this.inputs.identifier,password:this.inputs.password},s=await this.$http.post("/sign-in",t);if(s.status==204||s.status==200){const o=await s.body;this.token=o.token,this.userName=o.userName,this.userEmail=o.userEmail,this.$router.push({name:"home"}),this.$toast.success("toast-app",`Vous êtes bien connecté en tant que ${o.userName}`)}else console.error(s),this.$toast.error("toast-app","Les informations ne sont pas valides")}}},b={key:0,class:"text-danger mb-2"},w={class:"mb-3"},v=e("label",{for:"identifier",class:"form-label"},"E-mail ou pseudo",-1),y=e("div",{id:"identifierHelp",class:"form-text"},"Renseignez votre pseudo MyQuizzBuilder ou votre email ",-1),_={class:"mb-3"},k=e("label",{for:"password",class:"form-label"},"Password",-1),g=e("div",{id:"identifierHelp",class:"form-text"},"Veuillez renseigner votre mot de passe personnel",-1),V=e("button",{type:"submit",class:"btn primary-button my-3"},"Me connecter",-1),z={key:0,class:"text-danger mb-2"},I={class:"mb-3"},E=e("label",{for:"identifier",class:"form-label"},"E-mail ou pseudo",-1),N=e("div",{id:"identifierHelp",class:"form-text"},"Renseignez votre pseudo MyQuizzBuilder ou votre email ",-1),$={class:"mb-3"},M=e("label",{for:"password",class:"form-label"},"Password",-1),S=e("div",{id:"identifierHelp",class:"form-text"},"Veuillez renseigner votre mot de passe personnel",-1),U=e("button",{type:"submit",class:"btn primary-button my-3"},"Me connecter",-1);function B(t,s,o,q,D,n){return t.demo?(r(),a("form",{key:0,onSubmit:s[2]||(s[2]=p((...i)=>n.checkDemo&&n.checkDemo(...i),["prevent"]))},[t.wrongIdentifier?(r(),a("div",b,"Ces identifiants n'existent pas dans notre base de donnée")):u("",!0),e("div",w,[v,d(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.inputs.identifier=i),id:"identifier",type:"text",class:"form-control"},null,512),[[l,t.inputs.identifier]]),y]),e("div",_,[k,d(e("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>t.inputs.password=i),id:"password",type:"password",class:"form-control"},null,512),[[l,t.inputs.password]]),g]),V],32)):(r(),a("form",{key:1,onSubmit:s[5]||(s[5]=p((...i)=>n.checkIdentifier&&n.checkIdentifier(...i),["prevent"]))},[t.wrongIdentifier?(r(),a("div",z,"Ces identifiants n'existent pas dans notre base de donnée")):u("",!0),e("div",I,[E,d(e("input",{"onUpdate:modelValue":s[3]||(s[3]=i=>t.inputs.identifier=i),id:"identifier",type:"text",class:"form-control"},null,512),[[l,t.inputs.identifier]]),N]),e("div",$,[M,d(e("input",{"onUpdate:modelValue":s[4]||(s[4]=i=>t.inputs.password=i),id:"password",type:"password",class:"form-control"},null,512),[[l,t.inputs.password]]),S]),U],32))}const x=f(h,[["render",B]]);export{x as S};
