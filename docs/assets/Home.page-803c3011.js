import{Q as y}from"./QuizItem-d65dd6db.js";import{T as f}from"./TopicItem-57c13240.js";import{_ as z,m as x,r as c,o,c as i,a as e,b as m,t as r,d as h,F as u,e as b,f as n,w as v,u as D,g as M}from"./index-5f72cd32.js";const k={data(){return{lastQuizzes:[{id:1,name:"Recrutement"},{id:2,name:"Onboarding"},{id:3,name:"Sensibilisation"},{id:4,name:"RSE en grand groupe"}],lastTopics:[{id:1,name:"RH"},{id:2,name:"Administratif"},{id:3,name:"Travailleurs étrangers"},{id:4,name:"Inclusion managériale"}],disclaimer:!0,topicToDelete:{}}},components:{QuizItem:y,TopicItem:f},mounted(){},computed:{...x(D,["token","userEmail","userName"])},methods:{reduceArrayLength(t){t.splice(0,t.length-4),t.reverse()},askDeleteTopic(t){this.topicToDelete=this.lastTopics.find(s=>s.id===t)},updateTopic(t,s){this.$router.push({name:"modifierTheme",params:{id:t,name:s}})},async getAllTopics(){const t={Authorization:`Bearer ${this.token}`},s=await this.$http.get("/topics",{headers:t});s.status==200||s.status==204?(this.lastTopics=s.body,this.lastTopics.length>3&&this.reduceArrayLength(this.lastTopics)):console.error(s)},async deleteTopic(t){{const s=this.lastTopics.findIndex(p=>p.id===t);this.lastTopics.splice(s,1),this.$toast.success("toast-app",`Le thème ${this.topicToDelete.name} a bien été supprimé`)}}}},q={class:"modal fade",id:"warningModalTopic",tabindex:"-1"},N={class:"modal-dialog"},S={class:"modal-content"},w=e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5 text-danger",id:"labelModal"},"Êtes-vous sûr.e de vouloir supprimer ce thème ?"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),C={class:"modal-body"},I={key:0},Q={class:"modal-footer"},B=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Annuler",-1),L={key:0,class:"row my-3 d-flex justify-content-center"},V=e("h5",{class:"text-center col-12"}," Bienvenue sur la démo MyQuizzBuilder ! ",-1),$=e("button",{type:"button",class:"btn primary-button col-12 col-md-3","data-bs-toggle":"modal","data-bs-target":"#demoModal"}," Cliquez ici pour en savoir plus ",-1),A=[V,$],R=M('<div class="modal fade" id="demoModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h1 class="modal-title fs-5" id="exampleModalLabel">Demo de MyQuizzBuilder</h1><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"> Ce projet est une simple démonstration. C&#39;est pourquoi, vos interactions avec l&#39;interface n&#39;auront pas d&#39;effets sur celle-ci : vous pouvez créer un quiz en entier, mais en revenant sur la liste des quiz vous ne le retrouverez pas. <br> Je compte sur vous pour me remonter des suggestions ou améliorations ! </div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">J&#39;ai compris</button></div></div></div></div><h1>Mon tableau de bord</h1>',2),E={class:"my-5"},H={class:"my-5"},U=e("h2",null,"Mon profil",-1),j={class:"px-4"},F={class:"row gx-5"},J=e("h2",null,"Mes derniers quiz",-1),O={class:"text-center"},P={class:"row g-3"},G={class:"col-12 col-sm-6 col-lg-3"},K=e("button",{class:"btn secundary-button mt-4",type:"button"},[e("i",{class:"bi bi-plus-circle"}),m(" Voir tous mes quiz ")],-1),W={class:"my-5"},X=e("h2",null,"Mes derniers thèmes",-1),Y={class:"text-center"},Z={class:"row g-3"},ee={class:"col-12 col-sm-6 col-lg-3"},te=e("button",{class:"btn secundary-button mt-4",type:"button"},[e("i",{class:"bi bi-plus-circle"}),m(" Voir tous mes thèmes ")],-1);function se(t,s,p,oe,ie,d){const g=c("QuizItem"),_=c("RouterLink"),T=c("TopicItem");return o(),i(u,null,[e("div",q,[e("div",N,[e("div",S,[w,e("div",C,[m(" Cette action est irréversible, et vous perdrez tout le thème : "),t.topicToDelete?(o(),i("b",I,r(t.topicToDelete.name),1)):h("",!0)]),e("div",Q,[B,e("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:s[0]||(s[0]=a=>d.deleteTopic(t.topicToDelete.id))},"Supprimer")])])])]),t.disclaimer?(o(),i("div",L,A)):h("",!0),R,e("section",E,[e("section",H,[U,e("div",j,[e("div",F,[e("ul",null,[e("li",null,"Pseudo : "+r(t.userName),1),e("li",null,"Mail : "+r(t.userEmail),1)])])])]),J,e("div",O,[e("div",P,[(o(!0),i(u,null,b(t.lastQuizzes,(a,l)=>(o(),i("div",G,[n(g,{quizName:a.name,index:l.toString()},null,8,["quizName","index"])]))),256))])]),n(_,{to:"/quiz"},{default:v(()=>[K]),_:1})]),e("section",W,[X,e("div",Y,[e("div",Z,[(o(!0),i(u,null,b(t.lastTopics,(a,l)=>(o(),i("div",ee,[n(T,{topic:a,index:l.toString(),onDeleteTopic:d.askDeleteTopic,onUpdateTopic:d.updateTopic},null,8,["topic","index","onDeleteTopic","onUpdateTopic"])]))),256))])]),n(_,{to:"/themes"},{default:v(()=>[te]),_:1})])],64)}const le=z(k,[["render",se]]);export{le as default};
